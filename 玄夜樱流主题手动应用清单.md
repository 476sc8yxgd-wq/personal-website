# 玄夜樱流主题 - 部署前手动应用清单

> ⚠️ **重要提醒**：部署到服务器前，需要按照此清单逐一修改各页面组件，确保"玄夜樱流"主题完整生效。

---

## 📋 应用优先级

### 🔴 高优先级（首页核心页面）
- [ ] `src/pages/Home.tsx`
- [ ] `src/pages/About.tsx`
- [ ] `src/pages/Blog.tsx`
- [ ] `src/pages/QA.tsx`

### 🟡 中优先级（详情页）
- [ ] `src/pages/BlogDetail.tsx`
- [ ] `src/pages/Diagnostic.tsx`

### 🟢 低优先级（管理页面）
- [ ] `src/pages/Admin.tsx`

---

## 🔧 每个页面需要做的修改

### 1️⃣ 导入必要模块

在每个页面组件顶部添加：

```typescript
import { useSectionTransition } from '../hooks/useSectionTransition';
```

### 2️⃣ 使用 Section 过渡 Hook

在页面的最外层容器添加 ref 和动画效果：

**修改前**：
```tsx
const Home: React.FC = () => {
  // ... 其他代码
  return (
    <div className="min-h-screen bg-gray-50">
      {/* 内容 */}
    </div>
  );
};
```

**修改后**：
```tsx
import { useSectionTransition } from '../hooks/useSectionTransition';

const Home: React.FC = () => {
  const { ref, isInView } = useSectionTransition({
    threshold: 0.3,
    rootMargin: '-10% 0px -10% 0px'
  });

  return (
    <motion.div
      ref={ref}
      initial={{ opacity: 0, y: 20 }}
      animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }}
      transition={{ 
        duration: 1.2,
        ease: [0.22, 0.61, 0.36, 1]
      }}
      className="min-h-screen"
    >
      {/* 内容 */}
    </motion.div>
  );
};
```

### 3️⃣ 应用毛玻璃卡片样式

**修改前**：
```tsx
<Card className="border-2 shadow-lg">
  {/* 内容 */}
</Card>

<div className="bg-white border rounded-lg p-6">
  {/* 内容 */}
</div>
```

**修改后**：
```tsx
<Card className="glass-card">
  {/* 内容 */}
</Card>

<div className="glass-card p-6">
  {/* 内容 */}
</div>
```

**查找关键词**：
- `className="border-2` → `className="glass-card"`
- `className="bg-white` → `className="glass-card"`
- `className="bg-gray-` → `className="glass-card"`
- `className="rounded-lg shadow-lg` → `className="glass-card"`

### 4️⃣ 应用樱花粉链接样式

**修改前**：
```tsx
<Link to="/blog/123">
  博客标题
</Link>

<a href="#about">
  查看全部 →
</a>
```

**修改后**：
```tsx
<Link to="/blog/123" className="link-sakura">
  博客标题
</Link>

<a href="#about" className="link-sakura">
  查看全部 →
</a>
```

**查找关键词**：
- `to="/` → `to="/" className="link-sakura"`
- `href="#"` → `href="#" className="link-sakura"`

### 5️⃣ 主标题样式检查

**需要确认的标题样式**：
```tsx
// ✅ 正确示例
<h1 className="text-3.5xl font-bold" 
    style={{ 
      fontFamily: 'PingFang SC, sans-serif',
      textShadow: '0 0 10px rgba(255,183,197,0.2)'
    }}>
  标题文字
</h1>

// ❌ 错误示例（需修改）
<h1 className="text-4xl font-bold">  // 字号太大
  标题文字
</h1>

<h1 className="font-bold">  // 缺少 text-shadow
  标题文字
</h1>
```

### 6️⃣ 文字颜色检查

**需要确认的文字颜色**：
- 正文应为：`text-sakura-white` (#FAFAFA)
- 重点高亮：`bg-sakura-pink/10 text-sakura-pink`
- 次要文字：`text-sakura-white/90`

---

## 📝 各页面详细修改指南

### 📄 `src/pages/Home.tsx`

#### 需要修改的位置：

1. **最外层容器**（第 70-100 行左右）
```tsx
// 添加 useSectionTransition
const { ref, isInView } = useSectionTransition();

// 将最外层 div 改为 motion.div
<motion.div ref={ref} animate={isInView ? {...} : {...}}>
```

2. **个人信息卡片**（约第 80-125 行）
```tsx
// 查找所有 Card 组件，添加 glass-card 类
<Card className="glass-card">  // 修改这里
```

3. **博客卡片**（约第 140-180 行）
```tsx
// 博客列表的 Card 组件
<Card className="glass-card hover:shadow-sakura">  // 修改这里
```

4. **"查看全部"链接**（约第 134-138 行）
```tsx
<a href="#blog" className="link-sakura">
  <Button variant="outline" size="lg">
    查看全部 →
  </Button>
</a>
```

5. **博客标题链接**（约第 154-159 行）
```tsx
<Link to={`/blog/${blog.id}`} className="link-sakura">
  {blog.title}
</Link>
```

6. **主标题**（第 131 行）
```tsx
<h2 className="text-3xl font-bold"
    style={{ 
      fontFamily: 'PingFang SC, sans-serif',
      textShadow: '0 0 10px rgba(255,183,197,0.2)'
    }}>
  最新博客
</h2>
```

---

### 👤 `src/pages/About.tsx`

#### 需要修改的位置：

1. **最外层容器**
```tsx
const { ref, isInView } = useSectionTransition();
<motion.div ref={ref} animate={isInView ? {...} : {...}}>
```

2. **所有卡片**（整个页面）
```tsx
<Card className="glass-card">  // 修改所有 Card
```

3. **个人信息卡片中的链接**（如果有邮箱、QQ 等）
```tsx
<a href={`mailto:${profile.email}`} className="link-sakura">
  邮箱
</a>
```

4. **主标题**（第 50-80 行）
```tsx
<h1 className="text-3.5xl font-bold"
    style={{ 
      fontFamily: 'PingFang SC, sans-serif',
      textShadow: '0 0 10px rgba(255,183,197,0.2)'
    }}>
  关于我
</h1>
```

---

### 📝 `src/pages/Blog.tsx`

#### 需要修改的位置：

1. **最外层容器**
```tsx
const { ref, isInView } = useSectionTransition();
```

2. **博客文章卡片**（第 148-203 行）
```tsx
<article className="glass-card p-6">  // 将整个 article 改为 glass-card
  {/* 或者如果使用 Card 组件 */}
  <Card className="glass-card">  // 修改 Card
```

3. **博客标题链接**（第 151-156 行）
```tsx
<Link to={`/blog/${blog.id}`} className="link-sakura">
  {blog.title}
</Link>
```

4. **侧边栏分类按钮**（第 115-137 行）
```tsx
// 分类按钮可以使用 glass-card 类
<button className={`glass-card px-3 py-2 rounded ${...}`}>
  {category.name}
</button>
```

5. **主标题**（第 107 行）
```tsx
<h1 className="text-3.5xl font-bold"
    style={{ 
      fontFamily: 'PingFang SC, sans-serif',
      textShadow: '0 0 10px rgba(255,183,197,0.2)'
    }}>
  个人博客
</h1>
```

---

### ❓ `src/pages/QA.tsx`

#### 需要修改的位置：

1. **最外层容器**
```tsx
const { ref, isInView } = useSectionTransition();
```

2. **问题卡片**（问题列表）
```tsx
<div className="glass-card p-6">  // 修改问题列表容器
  {/* 问题内容 */}
</div>
```

3. **"返回首页"或"提问"链接**（如果有）
```tsx
<Link to="/" className="link-sakura">
  返回首页
</Link>
```

4. **主标题**
```tsx
<h1 className="text-3.5xl font-bold"
    style={{ 
      fontFamily: 'PingFang SC, sans-serif',
      textShadow: '0 0 10px rgba(255,183,197,0.2)'
    }}>
  问答
</h1>
```

---

### 📖 `src/pages/BlogDetail.tsx`

#### 需要修改的位置：

1. **最外层容器**
```tsx
const { ref, isInView } = useSectionTransition();
```

2. **博客内容卡片**
```tsx
<Card className="glass-card">  // 修改内容容器
  {/* 博客内容 */}
</Card>
```

3. **"返回博客"链接**
```tsx
<Link to="/blog" className="link-sakura">
  ← 返回博客列表
</Link>
```

4. **主标题**（第 49 行）
```tsx
<h1 className="text-3.5xl font-bold"
    style={{ 
      fontFamily: 'PingFang SC, sans-serif',
      textShadow: '0 0 10px rgba(255,183,197,0.2)'
    }}>
  {blog?.title}
</h1>
```

---

### 🔧 `src/pages/Diagnostic.tsx`

#### 需要修改的位置：

1. **最外层容器**
```tsx
const { ref, isInView } = useSectionTransition();
```

2. **诊断信息卡片**
```tsx
<Card className="glass-card">  // 修改所有 Card
  {/* 诊断内容 */}
</Card>
```

3. **主标题**
```tsx
<h1 className="text-3.5xl font-bold"
    style={{ 
      fontFamily: 'PingFang SC, sans-serif',
      textShadow: '0 0 10px rgba(255,183,197,0.2)'
    }}>
  诊断工具
</h1>
```

---

### 🛠️ `src/pages/Admin.tsx`（如果存在）

#### 需要修改的位置：

1. **最外层容器**
```tsx
const { ref, isInView } = useSectionTransition();
```

2. **所有表单卡片**
```tsx
<Card className="glass-card">  // 修改所有表单容器
  {/* 管理内容 */}
</Card>
```

3. **导航链接**
```tsx
<Link to="/blog" className="link-sakura">
  博客管理
</Link>
```

4. **主标题**
```tsx
<h1 className="text-3.5xl font-bold"
    style={{ 
      fontFamily: 'PingFang SC, sans-serif',
      textShadow: '0 0 10px rgba(255,183,197,0.2)'
    }}>
  管理后台
</h1>
```

---

## ✅ 验收检查清单

部署完成后，请检查以下效果：

### 视觉效果
- [ ] 所有页面背景为深色（全黑/深灰/深黑）
- [ ] 所有卡片呈现毛玻璃效果（12px 模糊）
- [ ] 樱花粉边框悬停时发光
- [ ] 樱花瓣动画在所有页面可见
- [ ] 滚动时感受到视觉锚点（淡入的樱花粉中线）

### 交互效果
- [ ] 按钮显示樱花粉光晕，悬停时有径向渐变扩散
- [ ] 链接显示月光白，悬停时樱花粉下划线展开
- [ ] 导航圆点激活时脉冲扩散
- [ ] Section 进入视口时内容淡入上浮

### 动画效果
- [ ] 背景纹理有视差效果（慢速向上移动）
- [ ] Section 切换时有"呼吸式"缩放淡入淡出
- [ ] 欢迎页到主页无缝转场（视频最后一帧模糊）

### 排版规范
- [ ] 主标题使用思源黑体 Bold 3.5rem
- [ ] 正文使用苹方，行高 1.8
- [ ] 引用/重点使用樱花粉高亮

### 性能优化
- [ ] 移动端花瓣数量减少（3片）
- [ ] 移动端背景纹理隐藏
- [ ] 支持 `prefers-reduced-motion` 时动画禁用

---

## 🔍 快速搜索命令

在 IDE 中使用正则表达式批量查找：

```regex
# 查找需要添加 glass-card 类的 Card
className="Card[^"]*"

className="bg-white"
className="bg-gray-"
className="bg-blue-"
className="bg-purple-"
className="bg-pink-"

# 查找需要添加 link-sakura 类的 Link
to="/[^"]*"

href="#[^"]*"
```

---

## 📌 重要提示

### ⚠️ 注意事项

1. **不要忘记导入 Hook**
   ```typescript
   import { useSectionTransition } from '../hooks/useSectionTransition';
   ```

2. **保持原有功能**
   - 只添加样式类，不要删除现有的功能代码
   - 保持原有的交互逻辑（如加载状态、数据处理等）

3. **测试顺序**
   - 先修改一个页面，测试效果
   - 确认无误后再修改下一个页面

4. **CSS 类名优先级**
   - `glass-card` 已经包含了 `backdrop-filter` 和 `border`
   - `link-sakura` 已经包含了文字颜色和下划线动画
   - 不需要重复添加这些样式

---

## 🚀 部署前最终检查

在执行部署命令前，请运行以下检查：

```bash
# 1. 检查是否有 TypeScript 错误
npm run type-check

# 2. 检查是否有 ESLint 错误
npm run lint

# 3. 本地测试启动
npm run dev
```

如果以上检查都通过，即可执行部署：
```bash
npm run build
npm run deploy  # 根据您的部署脚本
```

---

## 📞 遇到问题？

### 常见错误

**错误 1**: `useSectionTransition is not defined`
- 解决：在文件顶部添加 `import { useSectionTransition } from '../hooks/useSectionTransition';`

**错误 2**: TypeScript 报错 `Property 'glass-card' does not exist`
- 解决：确认 `index.css` 中的 `.glass-card` 类已正确定义

**错误 3**: 动画不生效
- 解决：检查 `isInView` 是否正确传递给 `animate` 属性

**错误 4**: 樱花瓣不显示
- 解决：检查 App.tsx 中是否正确导入和使用了 `<SakuraPetals />`

---

## 📞 需要帮助？

如果在修改过程中遇到问题：
1. 检查本文档中的示例代码
2. 查看 `玄夜樱流主题实现完成报告.md`
3. 检查浏览器开发者工具的控制台错误

---

**📌 保存此文档，部署前逐项对照修改！**
