# 视频优化指南

## 樱花视频优化建议

为了让您的樱花视频欢迎页获得最佳性能，建议对视频进行以下优化：

### 1. 视频压缩

使用视频压缩工具将 `sakura-video.mp4` 压缩到合适的大小：

**推荐工具：**
- HandBrake（免费，跨平台）
- FFmpeg（命令行工具）
- 在线工具：Compressor.io, Clideo

**推荐设置：**
- **分辨率**：1280x720（720p）或 1920x1080（1080p）
- **码率**：2-4 Mbps（720p）/ 4-8 Mbps（1080p）
- **帧率**：30 fps（循环视频不需要60fps）
- **编码器**：H.264 (AVC)
- **格式**：MP4

### 2. HandBrake 压缩示例

```bash
# 使用 HandBrake 命令行
HandBrakeCLI -i input.mp4 -o output.mp4 \
  -e x264 \
  -q 22 \
  -r 30 \
  --width 1280 \
  --height 720 \
  --audio none \
  --optimize
```

### 3. FFmpeg 压缩示例

```bash
ffmpeg -i input.mp4 \
  -vcodec libx264 \
  -crf 28 \
  -preset medium \
  -vf "scale=1280:720" \
  -movflags +faststart \
  -r 30 \
  output.mp4
```

### 4. 视频封面图

创建一个视频封面图 `sakura-poster.jpg`：
- 尺寸：1920x1080
- 格式：JPEG
- 质量：70-80%

### 5. 性能目标

- **文件大小**：< 10MB
- **加载时间**：< 3秒（4G网络）
- **播放流畅度**：30fps 稳定播放

### 6. 移动端优化

当前代码已实现自动降级：
- 桌面端：播放视频背景
- 移动端：使用静态图片（为了节省流量）

### 7. 当前视频位置

视频文件已复制到：`frontend/public/sakura-video.mp4`

封面图片位置：`frontend/public/sakura-poster.jpg`（需创建）

---

## 其他性能优化

### 图片懒加载

项目已内置 `LazyImage` 组件，建议在需要懒加载的地方使用：

```tsx
import LazyImage from '@/components/LazyImage';

<LazyImage
  src="/path/to/image.jpg"
  alt="描述"
  className="..."
/>
```

### 预加载关键资源

已在 `index.html` 中配置 smooth scroll，浏览器会自动优化滚动性能。

### CDN 加速

生产环境建议使用 CDN 加速静态资源。
